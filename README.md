# BIG_DATA_LAB2

# –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–µ—Ä–∂–µ–∫ –∞–≤–∏–∞—Ä–µ–π—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spark –∏ Hadoop

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–¥–µ—Ä–∂–∫–∞—Ö –∞–≤–∏–∞—Ä–µ–π—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Apache Spark –∏ Hadoop HDFS. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–∞–∑–æ–≤–æ–π –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö —Å —Ä–∞–∑–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É–∑–ª–æ–≤.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–∞—Ç–∞—Å–µ—Ç —Å 150,000+ —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ 6+ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ (–≤–∫–ª—é—á–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ)
2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç Hadoop (1 NameNode + 1/3 DataNode) —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ Spark-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∑–∞–º–µ—Ä–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø–∞–º—è—Ç–∏
4. –ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è 4 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:
   - 1 DataNode (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
   - 1 DataNode (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
   - 3 DataNode (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
   - 3 DataNode (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
5. –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (`cache()`), —Ä–µ–ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (`repartition()`)

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –§–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ `2018_small.csv` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ó–∞–ø—É—Å–∫ –∫–ª–∞—Å—Ç–µ—Ä–∞ (1 DataNode)
```bash
# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
docker-compose-1dn up -d
# –ó–∞–ø—É—Å–∫ Spark app
./run.sh
```

### –ó–∞–ø—É—Å–∫ –∫–ª–∞—Å—Ç–µ—Ä–∞ (3 DataNode)
```bash
# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
docker-compose-3dn up -d
# –ó–∞–ø—É—Å–∫ Spark app
./run.sh
